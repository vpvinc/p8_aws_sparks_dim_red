aws emr create-cluster --applications Name=Hadoop Name=JupyterEnterpriseGateway Name=TensorFlow Name=Spark Name=Livy --ec2-attributes '{"KeyName":"aws_demo_oc_keys","InstanceProfile":"EMR_EC2_DefaultRole","SubnetId":"subnet-0b27b760","EmrManagedSlaveSecurityGroup":"sg-0f2438508c8806370","EmrManagedMasterSecurityGroup":"sg-0e680ec3753a85aca"}' --release-label emr-6.4.0 --log-uri 's3n://s3-p8/' --instance-groups '[{"InstanceCount":2,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":2}]},"InstanceGroupType":"CORE","InstanceType":"m5.xlarge","Name":"Core - 2"},{"InstanceCount":1,"EbsConfiguration":{"EbsBlockDeviceConfigs":[{"VolumeSpecification":{"SizeInGB":32,"VolumeType":"gp2"},"VolumesPerInstance":2}]},"InstanceGroupType":"MASTER","InstanceType":"m5.xlarge","Name":"Master - 1"}]' --configurations '[{"Classification":"spark","Properties":{"maximizeResourceAllocation":"true","spark.sql.files.maxRecordsPerFile":"10000"}},{"Classification":"livy-conf","Properties":{"livy.server.session.timeout":"5h"}}]' --auto-scaling-role EMR_AutoScaling_DefaultRole --bootstrap-actions '[{"Path":"s3://s3-p8/emr_p8_bootstrap.sh","Name":"Custom action"}]' --ebs-root-volume-size 20 --service-role EMR_DefaultRole --enable-debugging --auto-termination-policy '{"IdleTimeout":3600}' --name 'emr_p8' --scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region us-east-2